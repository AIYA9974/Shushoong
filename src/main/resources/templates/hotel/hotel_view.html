<!DOCTYPE html>
<html 
xmlns:th="http://www.thymeleaf.org">
<head>
	<link th:href="@{/css/basic/reset.css}" rel="stylesheet" />
	<link th:href="@{/css/basic/core.css}" rel="stylesheet" />
	<link th:href="@{/css/basic/layout.css}" rel="stylesheet" />
 	<link th:href="@{/css/basic/footer.css}" rel="stylesheet" />
	<link th:href="@{/css/basic/header.css}" rel="stylesheet" />
	<link th:href="@{/css/hotel/hotel_view.css}" rel="stylesheet" />
	
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.js"></script>
	
	<!--chart.js CDN  -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.min.js" rel="stylesheet">
	<script src="https://fastly.jsdelivr.net/npm/chart.js"></script>
<meta charset="UTF-8">
<title>슈슝</title>
</head>
<body>

	<div class="wrapper">
		<div class="wrap-header">
			<header>
 				<div th:replace="~{common/header :: Header}"></div>
				<div class="hrline">
					<hr>
				</div>
			</header>
		</div>
		<div class="wrap-body">
			<div class="wrap-main">
				<div class="hotel_name">
					<div class="name_kr">세인트존스 호텔</div>
					<div class="name_en">St.Jones Hotel</div>					
				</div>
				<hr></hr>
				<div class="hotel_pic">
					<div class="pic_slide">
						<div class="pic"></div>
						<div class="pic"></div>
						<div class="pic"></div>
						<div class="pic"></div>
						<div class="pic"></div>
						<div class="pic"></div>
						<div class="pic"></div>
						<div class="pic"></div>
					</div>
				</div>
				
				<!-- 객실정보 -->
				<div class="hotel_info_all">
					<div class="info_list">
						<div class="room_choose"><a href="#hotel_room_list">객실선택</a></div>
						<div class="hotel_info"><a href="#wrap_hotel_info">호텔상세정보</a></div>
						<div class="hotel_review"><a href="#wrap_hotel_review">호텔후기</a></div>
						<div class="calendar">
							<img th:src="@{/images/calendar.png}" alt="오른쪽 화살표" class="cal_pic" style="width:30px;">
							<button type="button" class="cal_btn" style="vertical-align: middle;">2024.06.05(수) ~ 2024.06.07(금)</button>
						</div>
						<div class="headcount">
							<button type="button" class="count_btn">객실 1 ⦁ 성인 2명</button>
						</div>
					</div>
					<hr style="border: 1px solid #c5c5c5;"></hr>

					<div id="hotel_room_list">
						<p style="font-family: 'SOYOMapleBoldTTF'; font-size: var(--font1);">객실 선택</p>
						<hr style="border: 0.1em solid black;"></hr>	
							<form>
								<div class="wrap_room">
									<div class="room">
										<div class="room_cat">Superior Double, No Ocean View</div>
										<div class="amount_num">
											<strong style="font-family: 'SOYOMapleBoldTTF';font-size: var(--font1);">1,834,119</strong>
											원
										</div>
										<button type="button" class="btn_reserve">예약하기</button>
									</div>
									<hr style="border: 1px solid #F1F1F1;"></hr>
								</div>
							</form>
							<form>
								<div class="wrap-room">
									<div class="room">
										<div class="room_cat">Superior Double, No Ocean View</div>
										<div class="amount_num">
											<strong style="font-family: 'SOYOMapleBoldTTF';font-size: var(--font1);">1,834,119</strong>
											원
										</div>
										<button type="button" class="btn_reserve">예약하기</button>
									</div>
									<hr style="border: 1px solid #F1F1F1;"></hr>
								</div>
							</form>
							<form>
								<div class="wrap-room">
									<div class="room">
										<div class="room_cat">Superior Double, No Ocean View</div>
										<div class="amount_num">
											<strong style="font-family: 'SOYOMapleBoldTTF';font-size: var(--font1);">1,834,119</strong>
											원
										</div>
										<button type="button" class="btn_reserve">예약하기</button>
									</div>
									<hr style="border: 1px solid #F1F1F1;"></hr>
								</div>
							</form>
							<form>
								<div class="wrap-room">
									<div class="room">
										<div class="room_cat">Superior Double, No Ocean View</div>
										<div class="amount_num">
											<strong style="font-family: 'SOYOMapleBoldTTF';font-size: var(--font1);">1,834,119</strong>
											원
										</div>
										<button type="button" class="btn_reserve">예약하기</button>
									</div>
									<hr style="border: 1px solid #F1F1F1;"></hr>
								</div>
							</form>
							<form>
								<div class="wrap-room">
									<div class="room">
										<div class="room_cat">Superior Double, No Ocean View</div>
										<div class="amount_num">
											<strong style="font-family: 'SOYOMapleBoldTTF';font-size: var(--font1);">1,834,119</strong>
											원
										</div>
										<button type="button" class="btn_reserve">예약하기</button>
									</div>
									<hr style="border: 1px solid #F1F1F1;"></hr>
								</div>
							</form>
							<button type="button" class="more_room_btn" style="margin-left: 450px;">전체보기</button>						
						<p style="font-size: var(--font5); color: var(--color_gray_2); margin-top: 20px;">* 객실요금은 세금/봉사료가 포함된 금액입니다.</p>
					</div>
					
					<!-- 호텔상세정보 -->
					<div id="wrap_hotel_info">
						<p style="font-family: 'SOYOMapleBoldTTF'; font-size: var(--font1);">호텔상세정보</p>
						<hr style="border: 0.1em solid black;"></hr>
						<div class="wrap_info">
							<div class="section">
								<div class="basic_info">기본정보</div>
								<div class="hotel_about_write">
									<p>호텔명 : 인터컨티넨탈 로스앤젤레스 다운타운, IHG 호텔</p>
									<p>주소 : 900 Wilshire Blvd United States</p>
									<p>전화 : 1-213-6887777</p>
									<p>팩스 :</p>
								</div>
							</div>
							<hr></hr>
							
							<div class="section">
								<div class="hotel_intro">호텔소개</div>
								<div class="hotel_intro_write">
									인터컨티넨탈 로스앤젤레스 다운타운, IHG 호텔의 경우 로스앤젤레스 중심에 있으며 걸어서 4분 거리에는 
									메이시스 플라자, 9분 거리에는 퍼싱 스퀘어(공원) 등이 있습니다. 이 럭셔리 호텔에서 L.A. 라이브까지는 
									1.1km 떨어져 있으며, 1.1km 거리에는 그래미 박물관도 있습니다.
								</div>
							</div>
							<hr></hr>
							
							<div class="section">
								<div class="hotel_check">체크인/아웃</div>
								<div class="hotel_check_write">
									<p>체크인 : 4:00 PM ~ midnight</p>
									<p>체크아웃 : 11:00 AM</p>
									<br>
 									<p style="font-size: var(--font4);">* 대표 체크인/아웃 시간은 객실별, 요일별로 상이할 수 있습니다. 자세한 정책은 해당 호텔측에 확인 해 주세요.</p>
								</div>
							</div>
							<hr></hr>
							
							<div class="section">
								<div class="room_explain">객실</div>
								<div class="room_explain_write">
									에어컨이 설치된 889개의 객실에는 미니바 및 평면 TV도 갖추어져 있어 편하게 머무실 수 있습니다. 유선 및 무선 
									인터넷이 무료로 제공되며 위성 채널 프로그램도 구비되어 있어 지루하지 않게 시간을 보내실 수 있습니다. 
									별도의 욕조 및 샤워 시설을 갖춘 전용 욕실에는 고급 세면용품 및 헤어드라이어도 마련되어 있습니다. 
									편의 시설/서비스로는 전화 외에 금고 및 책상도 있습니다.
								</div>
							</div>
							<hr></hr>
							
							<div class="section">
								<div class="hotel_facility">편의시설</div>
								<div class="hotel_facility_write">
									<div class="wifi">
										<img th:src="@{/images/wifi.png}" class="wifi_img" alt="무선인터넷" style="width:15px;">
										<p style="margin-left: 10px;">와이파이</p>
									</div>
									<div class="parking">
										<img th:src="@{/images/parking.png}" class="parking_img" alt="주차장" style="width:15px;">
										<p style="margin-left: 10px;">주차</p>
									</div>
									<div class="restaurant">
										<img th:src="@{/images/restaurant.png}" class="restaurant_img" alt="레스토랑" style="width:15px;">
										<p style="margin-left: 10px;">레스토랑</p>
									</div>
									<div class="pool">
										<img th:src="@{/images/pool.png}" class="pool_img" alt="수영장" style="width:15px;">
										<p style="margin-left: 10px;">수영장</p>
									</div>
									<div class="fitness">
										<img th:src="@{/images/fitness.png}" class="fitness_img" alt="피트니스센터" style="width:15px;">
										<p style="margin-left: 10px;">피트니스 센터</p>
									</div>
									<div class="air_con">
										<img th:src="@{/images/air_con.png}" class="air_con_img" alt="에어컨" style="width:15px;">
										<p style="margin-left: 10px;">에어컨</p>
									</div>	
								</div>
							</div>
							<hr></hr>
							
							<div class="section">
								<div class="hotel_policy">유의사항	 </div>
								<div class="hotel_policy_write">
									<p>뷔페식아침 식사 요금: 성인 USD 51, 어린이 USD 30(대략적인 금액)</p>
									<p>주차 대행 요금: 1일 기준, USD 68.2(자유롭게 출입 가능)</p>
									<p>반려동물 동반 시 요금: 숙박 기간 내 1회, 숙소당 USD 125</p>
									<p>장애인 안내 동물의 경우 요금 면제</p>
									<p>유아용 침대: 숙박 기간 내 1회, USD 50.0</p>
									<p>간이 침대 이용 요금: 숙박 기간 내 1회, USD 50</p>
									<p>위 목록에 명시되지 않은 다른 항목이 있을 수 있습니다. 요금 및 보증금은 세전 금액일 수 있으며 변경될 수 있습니다.</p>
								</div>
							</div>
							<hr></hr>
							
							<div class="section">
								<div class="hotel_sanitary">위생 및 안전조치</div>
								<div class="hotel_sanitary_write">
									<p>법인 호스트/관리자</p>
									<p>주요 접촉 구역에 고객과 직원 간 가림막 있음</p>
									<p>성소수자 환영</p>
									<p>고객 체온 검사 실시 가능</p>
									<p>사회적 거리두기 시행 중</p>
									<p>지원 대상 체온 검사를 정기적으로 실시함</p>
									<p>고객에게 무료 손 소독제 제공</p>
									<p>숙박 시설을 소독제로 청소함</p>
									<p>무현금 거래 이용 가능</p>
									<p>직원이 개인 보호 장비 착용함</p>
									<p>안전 조치 강화를 위한 음식 서비스 변경 있음</p>
									<p>침구 및 타월을 60°C 이상의 고온으로 세탁함</p>
									<p>고객에게 마스크 제공 가능</p>							
								</div>
							</div>
							<hr></hr>
						</div><!-- wrap_info -->
					</div><!-- wrap hotel info -->
					
					<!-- 호텔리뷰 -->
					<div id="wrap_hotel_review">
						<p style="font-family: 'SOYOMapleBoldTTF'; font-size: var(--font1);">호텔후기</p>
						<hr style="border: 0.1em solid black;"></hr>
						<!-- 리뷰 차트 -->
						<div class="review_detail">
							<div class="review_rate_avg"><strong style="font-family: 'SOYOMapleBoldTTF';font-size: 28px; color: var(--color_blue_1)">4.3</strong> / 5</div>
							<div class="review_count" style="margin-left: 15px;" >(1436개)</div>
							<div class="vertical_line"></div>
							<!-- 막대그래프 -->
							<div class="chart_wrap">
								<div class="grid-item">
									<canvas id="myChart" style="width:100%; height:100%;"></canvas>
								</div>
							</div>
						</div>
						<hr style="border: 1px solid #c5c5c5;"></hr>
						<div class="review_info_wrap">
							<div class="review_grade">
								<p class="review_rate">4.3</p>
								<div class="review_id">
									<img th:src="@{/images/person.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
									<p>gyrua34</p>
								</div>
								<div class="review_tripper">
									<img th:src="@{/images/suitcase.png}" class="tripper_img" alt="오른쪽 화살표" style="width:15px;">										
									<p>출장여행객</p>
								</div>
							</div>
							<div class="review_content">
								<p>"깔끔하고 마음에 들어요!"</p>
								<p>호텔 급에 비해 시설은 그냥 그런 듯. 세면대 물이 잘 내려가지 않았고 화장실에 쓰레기통도 없었음. 직원분들은 너무너무 친절해서 좋았습니다. 특히 우버탈 때 직접 짐도 실어주신 분 감사했어요:)</p>
								<p>2024년 5월 24일</p>
							</div>
						</div>
						<hr style="border: 1px solid #c5c5c5;"></hr>
						<div class="review_info_wrap">
							<div class="review_grade">
								<p class="review_rate">4.3</p>
								<div class="review_id">
									<img th:src="@{/images/person.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
									<p>gyrua34</p>
								</div>
								<div class="review_tripper">
									<img th:src="@{/images/suitcase.png}" class="tripper_img" alt="오른쪽 화살표" style="width:15px;">										
									<p>출장여행객</p>
								</div>
							</div>
							<div class="review_content">
								<p>"깔끔하고 마음에 들어요!"</p>
								<p>호텔 급에 비해 시설은 그냥 그런 듯. 세면대 물이 잘 내려가지 않았고 화장실에 쓰레기통도 없었음. 직원분들은 너무너무 친절해서 좋았습니다. 특히 우버탈 때 직접 짐도 실어주신 분 감사했어요:)</p>
								<p>2024년 5월 24일</p>
							</div>
						</div>
						<hr style="border: 1px solid #c5c5c5;"></hr>
					</div>
					<div class="review_btn">
						<button type="button" class="review_write_btn">리뷰 작성</button>
					</div>
					
					<!-- 모달창 구현 -->
			        <div id="modal" class="modal_overlay">
			            <div class="modal_window">
			            	<form id="frm_review">
			            			<button type="button" class="review_esc">X</button>

					            		<div class="facility">
					            			<p style="font-size: var(--font2);">숙박시설 상태 및 시설</p>
					            			<div class="facility_stars">
						            			<input type="radio" class="score" name="facility_score" id="facility_1" checked>
						            				<label for="facility_1">
						            					<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
						            				</label>
											    <input type="radio" class="score" name="facility_score" id="facility_2">
											    	<label for="facility_2">
											    		<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
											    	</label>
											    <input type="radio" class="score" name="facility_score" id="facility_3">
											    	<label for="facility_3">
														<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
													</label>
											    <input type="radio" class="score" name="facility_score" id="facility_4">
											    	<label for="facility_4">
											    		<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
											    	</label>
											    <input type="radio" class="score" name="facility_score" id="facility_5">
											    	<label for="facility_5">
											    		<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
											    	</label>
											</div>
										</div>		            		
							            <div class="sanity">
							                <p style="font-size: var(--font2);">청결 상태</p>
							                <div class="sanity_stars">
								                <input type="radio" class="score" name="sanity_score" id="sanity_1" checked>
							                	<label for="sanity_1">
							                		<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
							                	</label>
											    <input type="radio" class="score" name="sanity_score" id="sanity_2">
											    	<label for="sanity_2">
											    		<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
											    	</label>
											    <input type="radio" class="score" name="sanity_score" id="sanity_3">
											    	<label for="sanity_3">
											    		<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
											    	</label>
											    <input type="radio" class="score" name="sanity_score" id="sanity_4">
											    	<label for="sanity_4">
											    		<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
											    	</label>
											    <input type="radio" class="score" name="sanity_score" id="sanity_5">
											    	<label for="sanity_5">
											    		<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
											    	</label>
											 </div>
							            </div>
						                <div class="conven">
						                	<p style="font-size: var(--font2);">편의 시설/서비스</p>
							                <div class="conven_stars">
							                	<input type="radio" class="score" name="conven_score" id="conven_1" checked>
								                	<label for="conven_1">
								                		<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
								                	</label>
											    <input type="radio" class="score" name="conven_score" id="conven_2">
												    <label for="conven_2">
												    	<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
												    </label>
											    <input type="radio" class="score" name="conven_score" id="conven_3">
												    <label for="conven_3">
												    	<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
												    </label>
											    <input type="radio" class="score" name="conven_score" id="conven_4">
												    <label for="conven_4">
												    	<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
												    </label>
											    <input type="radio" class="score" name="conven_score" id="conven_5">
												    <label for="conven_5">
												    	<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
												    </label>
											</div>	
						                </div>
						                <div class="service">
						                	<p style="font-size: var(--font2);">직원 및 서비스</p>
							                <div class="service_stars">
							                	<input type="radio" class="score" name="service_score" id="service_1" checked>
								                	<label for="service_1">
								                		<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
								                	</label>
											    <input type="radio" class="score" name="service_score" id="service_2">
												    <label for="service_2">
												    	<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
												    </label>
											    <input type="radio" class="score" name="service_score" id="service_3">
												    <label for="service_3">
												    	<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
												    </label>
											    <input type="radio" class="score" name="service_score" id="service_4">
												    <label for="service_4">
												    	<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
												    </label>
											    <input type="radio" class="score" name="service_score" id="service_5">
												    <label for="service_5">
												    	<img th:src="@{/images/star.png}" class="id_img" alt="오른쪽 화살표" style="width:15px;">
												    </label>
											</div>
						                </div>

						        <fieldset style="border: 1px solid black; padding: 15px 15px;" >
						            <legend style="font-size: var(--font2); padding: 0 5px;">여행객 유형</legend>
						                <select name="tourist_cat" style="padding: 5px; border: none; width: 370px;">
						                    <option value="alone">혼자</option>
						                    <option value="couple">커플/부부</option>
						                    <option value="family">가족</option>
						                    <option value="group">단체</option>
						                    <option value="business_trip">출장</option>
						                </select>
						        </fieldset>   
						        <fieldset style="border: 1px solid black; padding: 20px 15px; " >
						            <legend style="font-size: var(--font2); padding: 0 5px;">제목</legend>
									<input type="text" style="border: none; width: 370px;"/>
						        </fieldset>
						        <textarea rows="15" cols="50"></textarea>
						        <button type="button" class="btn_submit">리뷰 작성</button>
						    </form> <!-- 리뷰 form  -->
			             </div>
			        </div> <!-- 모달창 끝 -->

					<div style="text-align: center;">페이징처리</div>
				</div>	
			</div>
		</div>
	</div>
	<div class="wrap-footer">
  		<div th:replace="~{common/footer :: Footer}"></div> 
	</div>
	
	
<script>

$(loadedHandler)

function loadedHandler(){
	
	/* 객실 전체보기 */
	$(".more_room_btn").on("click", showAllRoomHandler);
	
	/* displayReviewChart(); */
	
	
	/* 리뷰 작성 모달 띄우기 */
	$('.review_write_btn').on('click', reviewWriteHandler);
	
	/* 리뷰 작성 모달 취소 */
	$('.review_esc').on('click', reviewEscHandler);
	
	/* 별점 체크 */
	$('.score').on('click', checkScoreHandler);
}

 
function showAllRoomHandler(){
	console.log(this);
	console.log($(this).siblings());
	 
	htmlVal = "";
	htmlVal += `
				<form>
					<div class="wrap-room">
						<div class="room">
							<div class="room_cat">Superior Double, No Ocean View</div>
							<div class="amount_num">
								<strong style="font-family: 'SOYOMapleBoldTTF';font-size: var(--font1);">1,834,119</strong>
								원
							</div>
							<button type="button" class="btn_reserve">예약하기</button>
						</div>
						<hr style="border: 1px solid #F1F1F1;"></hr>
					</div>
				</form>
				<form>
					<div class="wrap-room">
						<div class="room">
							<div class="room_cat">Superior Double, No Ocean View</div>
							<div class="amount_num">
								<strong style="font-family: 'SOYOMapleBoldTTF';font-size: var(--font1);">1,834,119</strong>
								원
							</div>
							<button type="button" class="btn_reserve">예약하기</button>
						</div>
						<hr style="border: 1px solid #F1F1F1;"></hr>
					</div>
				</form>
			`;
			
			$(this).before(htmlVal);
			$(this).hide();
}


let reviewRate = [2, 4, 3, 4.6];
let reviewDataList = ["청결 상태", "편의시설/서비스", "직원 및 서비스", "숙박시설 상태 및 시설"];

var ctx = document.getElementById('myChart').getContext('2d');
var myChart3 = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: reviewDataList,
        datasets: [{
            data: reviewRate,
            backgroundColor: '#D9D9D9',
            hoverOffset: 4,
            barThickness: 30
        }]
    },
    options: {
        scales: {
            x: {
                grid: {
                    display: false
                },
                ticks: {
                    autoSkip: false,
                    maxRotation: 0,
                    minRotation: 0
                }
            },
            y: {
                grid: {
                    display: false
                },
                axis: 'y',
                display: false
            }
        },
        plugins: {
            legend: {
                display: false,
            },
        }
    },
    plugins: [{
        afterDraw: function(chart) {
            var ctx = chart.ctx;
            var xAxis = chart.scales['x'];

            xAxis.ticks.forEach((tick, index) => {
                let x = xAxis.getPixelForTick(index);
                let y = chart.chartArea.bottom + 20; // 레이블의 아래쪽에 위치

                // "4.5/5" 추가
                let additionalLabel = '4.5/5';

                ctx.textAlign = 'center';
                ctx.textBaseline = 'top';
                ctx.fillStyle = '#000';
                ctx.fillText(additionalLabel, x, y); // 추가 레이블 그리기
            });
        }
    }]
});
/*=================== 리뷰 막대그래프 관련 =================== */

/*===================== 모달창 관련 ==========================  */
function checkScoreHandler() {
	
	console.log(this);
	console.log($(this).children());
	
	/* 한번 별을 초기화 */
 	$(this).siblings().children().attr("src", "/shushoong/images/star.png").css('width', '15px;');
 	
 	$(this).prevAll().children().attr("src", "/shushoong/images/star_yellow.png").css('width', '15px;');
  	$(this).next().children().attr("src", "/shushoong/images/star_yellow.png").css('width', '15px;');

	

 }

function reviewWriteHandler(){
	$('#modal').css("display", 'block');
		
}

function reviewEscHandler(){
	$('#modal').css("display", 'none');
 	$('.score').prevAll().children().attr("src", "/shushoong/images/star.png").css('width', '15px;');
 	$('.score').next().children().attr("src", "/shushoong/images/star.png").css('width', '15px;');
	
}



</script>	
	
</body>
</html>