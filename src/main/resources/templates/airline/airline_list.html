<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<title>항공 목록 조회</title>
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<link th:href="@{/css/basic/reset.css}" rel="stylesheet" />
<link th:href="@{/css/basic/layout.css}" rel="stylesheet" />
<link th:href="@{/css/basic/footer.css}" rel="stylesheet" />
<link th:href="@{/css/basic/header.css}" rel="stylesheet" />

<!-- <link th:href="@{/css/airline/reset.css}" rel="stylesheet" /> -->
<link th:href="@{/css/airline/core.css}" rel="stylesheet" />
<link th:href="@{/css/airline/airline_list.css}" rel="stylesheet" />
<link th:href="@{/css/basic/core.css}" rel="stylesheet" />
</head>
<!-- 
<style>
.middle {
	position: relative;
	width: 100%;
	margin-top: 10px;
	/* max-width: 500px; */
}

.slider {
	position: relative;
	z-index: 1;
	height: 5px;
	margin: 0 15px;
}

.slider>.track {
	position: absolute;
	z-index: 1;
	left: 0;
	right: 0;
	top: 0;
	bottom: 0;
	border-radius: 5px;
	background-color: #9d9d9d;
}

.slider>.range {
	position: absolute;
	z-index: 2;
	left: 0;
	right: 0;
	top: 0;
	bottom: 0;
	border-radius: 5px;
	background-color: #006AFF;
}

.slider>.thumb {
	position: absolute;
	top: 3px; z-index : 3;
	width: 15px;
	height: 15px;
	background-color: white;
	border-radius: 50%;
	border: 2px solid #006AFF;
	z-index: 3;
	/* border-color: #006AFF; */
}

.slider>.thumb.left {
	left: 0;
	transform: translate(-15px, -10px);
}

.slider>.thumb.right {
	right: 0;
	transform: translate(15px, -10px);
}

input[type="range"] {
	position: absolute;
	/* opacity로 가린 것을 이벤트도 비활성화하기 위해 */
	pointer-events: none;
	-webkit-appearance: none;
	z-index: 2;
	/* height: 10px; */
	width: 100%;
	opacity: 0;
}

input[type="range"]::-webkit-slider-thumb {
	/* 겹쳐진 두 thumb를 모두 활성화 */
	pointer-events: all;
	width: 30px;
	height: 30px;
	border-radius: 0;
	border: 0 none;
	background-color: red;
	cursor: pointer;
	/* appearance를 해야 위의 스타일들을 볼 수 있음 */
	-webkit-appearance: none;
}

.middle .multi-range-slider {
	margin-top: 10px;
}

.multi-range-slider .resultval {
	margin: 10px 10px;
}

.div1 {
	float: left;
}

.div2 {
	float: right;
}
</style>
 -->
<body>
	<div class="wrapper">
		<div class="wrap-header">
			<header>
				<div th:replace="~{common/header :: Header}"></div>
				<div class="hrline">
					<hr>
				</div>
			</header>
		</div>
		<!-- 
		<div class="wrap-body">
			<div class="wrap-">
			 -->
		<div class="wrap-main">
			<div class="top-nav">top-nav</div>
			<div class="container">
				<div class="flex-container">
					<div class="sidebar">
						<div class="time-list">
							<form class="time-frm">
								<div>
									<p>시간대</p>
								</div>
								<!-- 출발 -->
								<div class="middle-range depart">
									<div>출발</div>
									<div class="multi-range-slider">
										<!-- 진짜 슬라이더 -->
										<input type="range" id="input-left" min="0" max="22" value="0" /> 
										<input type="range" id="input-right" min="2" max="24" value="24" />

										<!-- 커스텀 슬라이더 -->
										<div class="slider">
											<div class="track"></div>
											<div class="range"></div>
											<div class="thumb left"></div>
											<div class="thumb right"></div>
										</div>
										<div class="resultval time">
											<div class="div1"></div>
											<div class="div2"></div>
										</div>
									</div>
								</div>
								<!-- 도착 -->
								<div class="middle-range arr">
<!-- 								
									<div>도착</div>
									<div class="multi-range-slider">
										진짜 슬라이더
										<input type="range" id="input-left" min="0" max="22" value="0" /> 
										<input type="range" id="input-right" min="2" max="24" value="24" />

										커스텀 슬라이더
										<div class="slider">
											<div class="track"></div>
											<div class="range"></div>
											<div class="thumb left"></div>
											<div class="thumb right"></div>
										</div>
										<div class="resultval time">
											<div class="div1"></div>
											<div class="div2"></div>
										</div>
									</div>
									 -->
								</div>
							</form>
						</div>
						<div class="price-list">
							<form class="price-frm">
								<div>
									<p>가격대</p>
								</div>

							</form>
						</div>
						<div class="layover-list">
							<form class="layover-frm">
								<div>
									<p>직항/경유</p>
								</div>
								<div class="layover-select">
									<label>
										<button type="button" class="direct-btn" id="direct-btn">
											<span>직항</span>
										</button>
									</label> <label>
										<button type="button" class="direct-btn" id="layover-btn">
											<span>경유</span>
										</button>
									</label>
								</div>
							</form>

						</div>
					</div>
					<div class="airline-list">

						<div class="select-bar">
							<form action="#">
								<select name="selectlist" id="showlist">
									<option value="price-cheap">가격 낮은 순</option>
									<option value="price-expensive">가격 높은 순</option>
									<option value="flytime-low">비행 짧은 순</option>
									<option value="flytime-long">비행 긴 순</option>
								</select>
							</form>
						</div>

						<div class="airline-info">
							<div class="seat-count">

								<div class="airline-flex">
									<div class="airline-logo">
										<div class="span-seat-div">
											<span class="span-seat">잔여 9석</span>
										</div>
										<img th:src="@{/images/airline_logo.png}" alt="">

									</div>
									<div class="airline-name">
										<span>티웨이 항공</span>
									</div>
									<div class="airinfo depart-info">
										<div class="info date">출발 일자</div>
										<div class="info time">이륙 시간</div>
										<div class="info loc">출발 지역</div>
									</div>
									<div class="arrow">
										<div class="via-count">
											<span>직항</span>
										</div>
										<img th:src="@{/images/airline_via.png}" alt="">
										<div class="flytime">비행 시간</div>
									</div>
									<div class="airinfo arr-info">
										<div class="info date">도착 일자</div>
										<div class="info time">착륙 시간</div>
										<div class="info loc">도착 지역</div>
									</div>

									<div class="nop">
										<div class="sero">
											<img th:src="@{/images/airline_line.png}" alt="">
										</div>
										<div class="ticket-adult">성인 1</div>

										<div class="airticket">
											<div class="ticket-price">
												<div>9999,999원</div>
											</div>
											<div class="ticket-btn">
												<button type="button">선택하기</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<!-- <div class="airline-info"></div>
                        <div class="airline-info"></div> -->
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- 		
		</div>
	</div>
	 -->
	<div class="wrap-footer">
		<div th:replace="~{common/footer :: Footer}"></div>
	</div>

	<!-- --------------------JS-------------------- -->
	<script type="text/javascript">
	
	
	const inputLeft = document.getElementById("input-left");
	const inputRight = document.getElementById("input-right");
	const thumbLeft = document.querySelector(".slider > .thumb.left");
	const thumbRight = document.querySelector(".slider > .thumb.right");
	const range = document.querySelector(".slider > .range");

	// 왼쪽 입력 값이 변경될 때 실행되는 함수
	const setLeftValue = () => {
	    // 현재 입력 값(_this)과 입력 요소의 최소값과 최대값을 가져옴
	    const _this = inputLeft;
	    const [min, max] = [parseInt(_this.min), parseInt(_this.max)];

	    // 입력 값이 최소값과 최대값 사이에 있는지 확인하고, 그렇지 않으면 값을 조정
	    _this.value = Math.min(parseInt(_this.value), parseInt(inputRight.value) - 2);

	    // 왼쪽 thumb의 위치를 계산하여 슬라이더의 왼쪽 값을 표시
	    const leftValue = parseInt(_this.value);
	    
	    const leftVal = document.querySelector(".div1");
	    leftVal.innerHTML = `${leftValue}:00`;
	    
	    const percent = ((_this.value - min) / (max - min)) * 100;
	    thumbLeft.style.left = percent + "%";
	    range.style.left = percent + "%";
	};

	// 오른쪽 입력 값이 변경될 때 실행되는 함수
	const setRightValue = () => {
	    // 현재 입력 값(_this)과 입력 요소의 최소값과 최대값을 가져옴
	    const _this = inputRight;
	    const [min, max] = [parseInt(_this.min), parseInt(_this.max)];

	    // 입력 값이 최소값과 최대값 사이에 있는지 확인하고, 그렇지 않으면 값을 조정
	    _this.value = Math.max(parseInt(_this.value), parseInt(inputLeft.value) + 2);

	    // 오른쪽 thumb의 위치를 계산하여 슬라이더의 오른쪽 값을 표시
	    const rightValue = parseInt(_this.value);
	    
	    const rightVal = document.querySelector(".div2");
	    rightVal.innerHTML = `${rightValue}:00`;
	    
	    const percent = ((_this.value - min) / (max - min)) * 100;
	    thumbRight.style.right = 100 - percent + "%";
	    range.style.right = 100 - percent + "%";
	};

	// 왼쪽 입력 값이 변경될 때와 오른쪽 입력 값이 변경될 때 해당 함수들을 호출하도록
	// 이벤트 리스너를 설정
	inputLeft.addEventListener("input", setLeftValue);
	inputRight.addEventListener("input", setRightValue);

	// 페이지가 로드될 때 초기값을 설정하는 함수
	const setInitialValues = () => {
	    // 초기 왼쪽 값과 오른쪽 값
	    const initialLeftValue = 0;
	    const initialRightValue = 24;
	    // 초기값을 입력 요소에 설정하고, 왼쪽과 오른쪽 thumb의 위치를 조정
	    inputLeft.value = initialLeftValue;
	    inputRight.value = initialRightValue;
	    setLeftValue();
	    setRightValue();
	};

	// 페이지가 로드될 때 초기값 설정 함수(setInitialValues)를 호출
	window.onload = setInitialValues;

	</script>
</body>
</html>