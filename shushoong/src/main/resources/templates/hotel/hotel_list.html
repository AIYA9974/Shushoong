<!DOCTYPE html>
<html 
xmlns:th="http://www.thymeleaf.org">

<head>
	<link th:href="@{/css/basic/reset.css}" rel="stylesheet" />
	<link th:href="@{/css/basic/core.css}" rel="stylesheet" />
	<link th:href="@{/css/basic/layout.css}" rel="stylesheet" />
 	<link th:href="@{/css/basic/footer.css}" rel="stylesheet" />
	<link th:href="@{/css/basic/header.css}" rel="stylesheet" />
	<link th:href="@{/css/hotel/hotel_list.css}" rel="stylesheet" />
	
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.js"></script>
	
<meta charset="UTF-8">
<title>호텔 목록</title>
</head>
<body>
	<div class="wrapper">
		<div class="wrap-header">
			<header>
 				<div th:replace="~{common/header :: Header}"></div>
				<div class="hrline">
					<hr>
				</div>
			</header>
		</div>
		<div class="wrap-body">
			<div class="wrap-main">
				<div class="top-line">
					<div class="select">
						<span class="nation"></span>
						<span class="search-date"></span>
						<span class="room-capacity"></span>
					</div>
				</div>
				<div class="category">
					<div class="word_search">
						<input type="text" class="type_hotel" name="hotel_name" onkeypress="return enterkey();"/>
						<button type="button" class="btn_search" >검색</button>
					</div>
					<div class="select">
						<select name="search" class="sort sort-by" id="hotel_select" style="width:80px; height:30px; border-radius:10px;">
							 <option value="price" selected>가격</option>
							 <option value="review">리뷰</option>
							 <option value="grade">평점</option>
						</select>
						<select name="search" class="sort sort-to" id="hotel_select_rate" style="width:100px; height:30px; border-radius:10px;">
							 <option value="asc" selected>오름차순</option>
							 <option value="desc">내림차순</option>
						</select>
					</div>
				</div>

				
				<div class="container">
					<!-- aside 부분 - 슬라이드바 -->
					<div th:replace="~{hotel/hotel_slide_bar :: hotelslidebar}"></div>
					<div th:replace="~{hotel/hotel_list_section :: hotellistsection}"></div>
				</div>
			</div>
		</div>
	</div>
	<div class="wrap-footer">
  		<div th:replace="~{common/footer :: Footer}"></div> 
	</div>
</body>
<script>
//URL로부터 파라미터 읽어오기 위해 search객체 생성
$(loadedHandler);

var urlParams = new URLSearchParams(window.location.search);
var preloccode = urlParams.get('loc');
var prepeople = Number(urlParams.get('adult')) + parseInt(urlParams.get('child')/2, 10);

var prekeyword = null;
var maxPrice = null;
var presortBy = null;
var presortTo = null;

var lastScroll = 0;

function loadedHandler(){
	//좋아요 버튼 -- inline html onclick 
	//$(".hotel_like").on("click", likeHandler);
	
	//리스트 정렬
	$('.sort').on('change', sortHandler);
	//리스트 내 키워드 검색
	$('.btn_search').on('click', searchHandler);
	//가격(슬라이드바)으로 조회
	//$('#input-right').on('click', priceHandler);
	
	//호텔 리스트의 자식요소들 중 4번째부터 전부 숨김 
	$('.hotel_list').children('.hotel:gt(2)').css('display', 'none');
	$(window).on('scroll', loadHotelListHandler);
	
};

</script>
<script th:src="@{/js/hotel/hotel_list.js}"
		type="text/javascript">
</script>
</html>