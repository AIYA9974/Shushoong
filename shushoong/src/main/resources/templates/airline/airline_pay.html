<!DOCTYPE html>
<html 
xmlns:th="http://www.thymeleaf.org">
<head>
	<link th:href="@{/css/basic/reset.css}" rel="stylesheet" />
	<link th:href="@{/css/basic/core.css}" rel="stylesheet" />
	<link th:href="@{/css/basic/layout.css}" rel="stylesheet" />
 	<link th:href="@{/css/basic/footer.css}" rel="stylesheet" />
	<link th:href="@{/css/basic/header.css}" rel="stylesheet" />
	<link th:href="@{/css/airline/airline_pay.css}" rel="stylesheet" />
	<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<meta charset="UTF-8">
<title>슈슝</title>
</head>
<body>

	<div class="wrapper">
		<div class="wrap-header">
			<header>
 				<div th:replace="~{common/header :: Header}"></div>
				<div class="hrline">
					<hr>
				</div>
			</header>
		</div>
		<div class="wrap-body">
			<div class="wrap-">
			<!-- 여기부터 작성 -->
				<section class="reserve_process">
					<div>
						<div>1</div>
						<div>2</div>
						<div>3</div>
					</div>
				</section>
				<form action="" method="post">
					<section class="reserver_info">
						<div>
							<div>예약자 정보</div>
							<div>전자 항공권(e-ticket)을 받으실 연락처 정보를 입력하세요.</div>
						</div>
						<div class="reserver_info_flex">
							<div>
								<div>이름</div>
								<div><input type="text" name="reserver_name" placeholder="이름을 입력해 주세요"></div>
							</div>
							<div>
								<div>휴대전화번호</div>
								<div>
									<select name="local_num">
										<option selected value="0">선택하기</option>
							            <option value="010">010</option>
							            <option value="02">02</option>
							            <option value="051">051</option>
							            <option value="052">052</option>
									</select>
									<input type="text" name="reserver_phone_number">
								</div>
							</div>
							<div>
								<div>이메일 주소</div>
								<div><input type="text" name="reserver_email"></div>
							</div>
						</div>
					</section>
					
					
					<input type="button" id="add">
					<section class="into_submit">
						<div class="adult_list_wrap"></div>
						<div class="child_list_wrap"></div>
						<div class="baby_list_wrap"></div>
						<input class="info_submit_btn" type="submit" value="결제 페이지로 이동">
					</section>
				</form>
			</div>
		</div>
	</div>
	<div class="wrap-footer">
  		<div th:replace="~{common/footer :: Footer}"></div> 
	</div>
	
	<script>
			
		$(loadedHandler)
		function loadedHandler(){
			adultNum();
			childNum();
			babyNum();
		}
		
		function adultNum(){
			const urlParams = new URL(location.href).searchParams;
			const adult = urlParams.get('adult');
			var htmlVal = '';
			
			console.log(adult)
			
			for(var  i = 0; i < adult; i++){
				console.log("adult");
				htmlVal+=`
					<div>성인</div>
					<section class="passenger_info">
						<div>탑승자 정보</div>
						<div class="passenger_info_flex">
							<div>
								<div>성별</div>
								<div>
									<input type="radio" name="passenger_gender" value="M">남성
									<input type="radio" name="passenger_gender" value="F">여성
								</div>
							</div>
							<div>
								<div>영문 이름  (First Name)</div>
								<div><input type="text" placeholder="여권에 적힌 이름을 영어로 입력해 주세요" name="passenger_firstName"></div>
								<div>영문 성  (Last Name)</div>
								<div><input type="text" placeholder="여권에 적힌 성씨를 영어로 입력해 주세요" name="passenger_lastName"></div>
							</div>
							<div>
								<div>생년월일</div>
								<div><button name="passenger_birth">생년-월-일 <img alt="달력 이미지" src=""></button></div>
								<div>국적</div>
								<div>
									<select name="passenger_nation">
										<option selected value="0">선택하기</option>
							            <option value="한국">korean</option>
							            <option value="미국">american</option>
							            <option value="중국">chinese</option>
							            <option value="일본">japanese</option>
									</select>
								</div>
							</div>
							<div>
								<div>여권 번호 (TODO : ko-ko일경우 display : none)</div>
								<div><input type="text"></div>
								<div>여권 만료일(TODO : ko-ko일경우 display : none)</div>
								<div><button>연도-월-일 <img alt="달력 이미지" src=""></button></div>
							</div>
						</div>
					</section>
					
					<section class="select_baggage">
						<div>수하물 선택하기</div>
						<div class="select_baggage_flex">
							<div>
								<div>~10kg</div>
								<div>~20kg</div>
								<div>~30kg</div>
								<div>~40kg</div>
							</div>
							<div>
								<div>
									<img alt="수하물~10" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>0</div></div>
									<input type="radio" name="baggage_size" value="1" checked="checked">
								</div>
								<div>
									<img alt="수하물~20" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>48,000</div></div>
									<input type="radio" name="baggage_size" value="2">
								</div>
								<div>
									<img alt="수하물~30" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>64,000</div></div>
									<input type="radio" name="baggage_size" value="3">
								</div>
								<div>
									<img alt="수하물~40" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>90,000</div></div>
									<input type="radio" name="baggage_size" value="4">
								</div>
							</div>
						</div>
					</section>
				`;
				
				$(".adult_list_wrap").html(htmlVal)
			}
		}
	
		function childNum(){
			const urlParams = new URL(location.href).searchParams;
			const child = urlParams.get('child');
			var htmlVal = '';
			console.log(child);
			for(var i; i < child; i++ ){
				console.log("child");
				htmlVal+=`
					<div>성인</div>
					<section class="passenger_info">
						<div>탑승자 정보</div>
						<div class="passenger_info_flex">
							<div>
								<div>성별</div>
								<div>
									<input type="radio" name="passenger_gender" value="M">남성
									<input type="radio" name="passenger_gender" value="F">여성
								</div>
							</div>
							<div>
								<div>영문 이름  (First Name)</div>
								<div><input type="text" placeholder="여권에 적힌 이름을 영어로 입력해 주세요" name="passenger_firstName"></div>
								<div>영문 성  (Last Name)</div>
								<div><input type="text" placeholder="여권에 적힌 성씨를 영어로 입력해 주세요" name="passenger_lastName"></div>
							</div>
							<div>
								<div>생년월일</div>
								<div><button name="passenger_birth">생년-월-일 <img alt="달력 이미지" src=""></button></div>
								<div>국적</div>
								<div>
									<select name="passenger_nation">
										<option selected value="0">선택하기</option>
							            <option value="한국">korean</option>
							            <option value="미국">american</option>
							            <option value="중국">chinese</option>
							            <option value="일본">japanese</option>
									</select>
								</div>
							</div>
							<div>
								<div>여권 번호 (TODO : ko-ko일경우 display : none)</div>
								<div><input type="text"></div>
								<div>여권 만료일(TODO : ko-ko일경우 display : none)</div>
								<div><button>연도-월-일 <img alt="달력 이미지" src=""></button></div>
							</div>
						</div>
					</section>
					
					<section class="select_baggage">
						<div>수하물 선택하기</div>
						<div class="select_baggage_flex">
							<div>
								<div>~10kg</div>
								<div>~20kg</div>
								<div>~30kg</div>
								<div>~40kg</div>
							</div>
							<div>
								<div>
									<img alt="수하물~10" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>0</div></div>
									<input type="radio" name="baggage_size" value="1" checked="checked">
								</div>
								<div>
									<img alt="수하물~20" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>48,000</div></div>
									<input type="radio" name="baggage_size" value="2">
								</div>
								<div>
									<img alt="수하물~30" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>64,000</div></div>
									<input type="radio" name="baggage_size" value="3">
								</div>
								<div>
									<img alt="수하물~40" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>90,000</div></div>
									<input type="radio" name="baggage_size" value="4">
								</div>
							</div>
						</div>
					</section>
				`;
				
				$(".child_list_wrap").html(htmlVal)
				
			}
		}
		
		function babyNum(){
			const urlParams = new URL(location.href).searchParams;
			const baby = urlParams.get('baby');
			var htmlVal = '';
			console.log(baby);
			for(var i; i < baby; i++ ){
				console.log("baby");
				htmlVal+=`
					<div>유아</div>
					<section class="passenger_info">
						<div>탑승자 정보</div>
						<div class="passenger_info_flex">
							<div>
								<div>성별</div>
								<div>
									<input type="radio" name="passenger_gender" value="M">남성
									<input type="radio" name="passenger_gender" value="F">여성
								</div>
							</div>
							<div>
								<div>영문 이름  (First Name)</div>
								<div><input type="text" placeholder="여권에 적힌 이름을 영어로 입력해 주세요" name="passenger_firstName"></div>
								<div>영문 성  (Last Name)</div>
								<div><input type="text" placeholder="여권에 적힌 성씨를 영어로 입력해 주세요" name="passenger_lastName"></div>
							</div>
							<div>
								<div>생년월일</div>
								<div><button name="passenger_birth">생년-월-일 <img alt="달력 이미지" src=""></button></div>
								<div>국적</div>
								<div>
									<select name="passenger_nation">
										<option selected value="0">선택하기</option>
							            <option value="한국">korean</option>
							            <option value="미국">american</option>
							            <option value="중국">chinese</option>
							            <option value="일본">japanese</option>
									</select>
								</div>
							</div>
							<div>
								<div>여권 번호 (TODO : ko-ko일경우 display : none)</div>
								<div><input type="text"></div>
								<div>여권 만료일(TODO : ko-ko일경우 display : none)</div>
								<div><button>연도-월-일 <img alt="달력 이미지" src=""></button></div>
							</div>
						</div>
					</section>
					
					<section class="select_baggage">
						<div>수하물 선택하기</div>
						<div class="select_baggage_flex">
							<div>
								<div>~10kg</div>
								<div>~20kg</div>
								<div>~30kg</div>
								<div>~40kg</div>
							</div>
							<div>
								<div>
									<img alt="수하물~10" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>0</div></div>
									<input type="radio" name="baggage_size" value="1" checked="checked">
								</div>
								<div>
									<img alt="수하물~20" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>48,000</div></div>
									<input type="radio" name="baggage_size" value="2">
								</div>
								<div>
									<img alt="수하물~30" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>64,000</div></div>
									<input type="radio" name="baggage_size" value="3">
								</div>
								<div>
									<img alt="수하물~40" th:src="@{/images/calendar.png}">
									<div><div>KRW :</div><div>90,000</div></div>
									<input type="radio" name="baggage_size" value="4">
								</div>
							</div>
						</div>
					</section>
				`;
				
				$(".baby_list_wrap").html(htmlVal)
				
			}
		}
	</script>
	
</body>
</html>