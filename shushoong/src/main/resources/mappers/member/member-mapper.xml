<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kh.mclass.shushoong.member.model.repository.MemberRepository">
	<select id="selectAllList" resultType="MemberDTO">
		SELECT USER_ID, USER_NAME, USER_PWD, USER_GRADE FROM MEMBER
	</select>
	<select id="selectOne" parameterType="string" resultType="MemberDTO">
		SELECT USER_ID, USER_NAME, USER_PWD, USER_GRADE FROM MEMBER WHERE USER_ID=#{userId} 
	</select>
	<select id="login" parameterType="string" resultType="MemberDto">
		SELECT USER_ID, USER_NAME, USER_PWD, USER_EMAIL, USER_GRADE, USER_STATUS, JOIN_DATE, EMAIL_RECEIVE, MSG_RECEIVE, LATEST_LOGIN FROM MEMBER  WHERE USER_ID=#{userId} 
	</select>
	
	<select id="idCheck" parameterType="string" resultType="int">
		SELECT COUNT(*) C FROM MEMBER WHERE MEM_ID=#{userId}
	</select>
	
	<select id="findId" resultType="string">
		SELECT USER_ID FROM MEMBER
		WHERE USER_NAME=#{userName} AND USER_EMAIL=#{userEmail}
	</select>
	
	<insert id="join" parameterType="MemberDto">
	INSERT INTO MEMBER (USER_ID, USER_NAME, USER_PWD, USER_EMAIL, USER_GRADE, USER_STATUS, JOIN_DATE, EMAIL_RECEIVE, MSG_RECEIVE, LATEST_LOGIN) 
	VALUES (#{userId}, #{userName}, #{userPwd}, #{userEmail}, #{userGrade}, #{userStatus}, #{joinDate}, #{emailReceive}, #{msgReceivce}, #{latestLogin})
	</insert>
	
	<update id="setPwd" parameterType="map">
		UPDATE INTO MEMBER SET USER_PWD=#{userPwd}
	</update>
	
	<delete id="delete" parameterType="string">
		DELETE FROM MEMBER WHERE USER_ID=#{userId} 
	</delete>
</mapper>